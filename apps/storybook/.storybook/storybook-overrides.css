/* ========================================
   Storybook Dark Theme Detection
   ======================================== */

/* When Storybook dark theme is active via themes.dark */
.sb-show-main.sb-main-padded[data-theme="dark"],
.sbdocs.sbdocs-wrapper[data-theme="dark"],
body.sb-show-main[data-theme="dark"],
html[data-theme="dark"] .sbdocs,
html[data-theme="dark"] .sbdocs-wrapper,
html[data-theme="dark"] .sbdocs-content,
body[data-theme="dark"] .sbdocs,
body[data-theme="dark"] .sbdocs-wrapper,
body[data-theme="dark"] .sbdocs-content {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
}

/* Target Storybook's dark theme class */
.docs-story[data-theme="dark"],
[data-theme="dark"] .docs-story {
  background-color: #1a1a1a !important;
}

/* ========================================
   Fix Code Block Styling (remove zenkit conflicts)
   ======================================== */

/* Add padding to code block container */
.docblock-source {
  padding: 0 !important;
}

.docblock-source pre {
  padding: 1rem !important;
  margin: 0 !important;
}

/* Target the actual code content for left padding */
.docblock-source pre code {
  padding-left: 0.5rem !important;
  display: block !important;
}

/* More specific selectors for Storybook code blocks */
div[class*="docblock-source"] pre,
.sb-unstyled pre,
.docs-story pre {
  padding: 1rem !important;
}

/* Storybook Source component - targets the actual code wrapper */
[class*="css-"][class*="Source"] pre,
[id*="story"] pre,
.sbdocs-preview pre {
  padding: 1rem !important;
}

/* Nuclear option - all pre tags in docs */
.sbdocs pre,
.sbdocs-wrapper pre,
.sbdocs-content pre {
  padding: 1rem !important;
}

/* Prism.js specific - Storybook uses this for syntax highlighting */
pre.prismjs,
pre[class*="language-"] {
  padding: 1rem !important;
}

pre.prismjs code,
pre[class*="language-"] code {
  padding-left: 0 !important;
}

/* Reset ALL code/pre elements in Storybook docs to remove zenkit styles */
.docblock-source code,
.docblock-source span,
.docs-story code,
.sbdocs-content code,
.sbdocs code,
pre.prismjs,
.prismjs code,
.prismjs span,
.docblock-source .token,
[class*="docblock"] code,
[class*="docblock"] span {
  background: transparent !important;
  background-color: transparent !important;
  padding: 0 !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* Proper syntax highlighting colors */
.docblock-source .token.tag,
.prismjs .token.tag {
  color: #e06c75 !important;
}

.docblock-source .token.attr-name,
.prismjs .token.attr-name {
  color: #d19a66 !important;
}

.docblock-source .token.attr-value,
.docblock-source .token.string,
.prismjs .token.attr-value,
.prismjs .token.string {
  color: #98c379 !important;
}

.docblock-source .token.punctuation,
.prismjs .token.punctuation {
  color: #abb2bf !important;
}

.docblock-source .token.keyword,
.prismjs .token.keyword {
  color: #c678dd !important;
}

.docblock-source .token.function,
.prismjs .token.function {
  color: #61afef !important;
}

.docblock-source .token.operator,
.prismjs .token.operator {
  color: #56b6c2 !important;
}

.docblock-source .token.plain-text,
.prismjs .token.plain-text {
  color: #abb2bf !important;
}

/* Don't apply zenkit typography to Storybook UI */
.sb-show-main,
.sbdocs,
.docs-story {
  font-family: inherit;
}

/* Prevent zenkit button styles from applying to Storybook controls */
/* Exclude component buttons like .float-button, .btn, etc. */
.sbdocs button:not(.btn):not(.float-button):not([class*="float-button"]),
.sbdocs-wrapper button:not(.btn):not(.float-button):not([class*="float-button"]),
[class*="argstable"] button:not(.float-button):not([class*="float-button"]),
[class*="ArgTable"] button:not(.float-button):not([class*="float-button"]),
[class*="Control"] button:not(.btn):not(.float-button):not([class*="float-button"]),
table button:not(.btn):not(.float-button):not([class*="float-button"]) {
  all: revert !important;
  font-family: inherit !important;
}

/* Then re-apply our styles */
.sbdocs button:not(.btn):not(.float-button):not([class*="float-button"]),
[class*="Control"] button:not(.btn):not(.float-button):not([class*="float-button"]) {
  padding: 4px 12px !important;
  font-size: 12px !important;
  cursor: pointer !important;
  border-radius: 4px !important;
}

/* Dark mode button styles - MUST come after revert */
/* Exclude component buttons */
html[data-theme="dark"] .sbdocs button:not(.btn):not(.float-button):not([class*="float-button"]),
html[data-theme="dark"] .sbdocs-wrapper button:not(.btn):not(.float-button):not([class*="float-button"]),
body[data-theme="dark"] .sbdocs button:not(.btn):not(.float-button):not([class*="float-button"]),
body[data-theme="dark"] .sbdocs-wrapper button:not(.btn):not(.float-button):not([class*="float-button"]),
[data-theme="dark"] .sbdocs button:not(.btn):not(.float-button):not([class*="float-button"]) {
  background-color: #444 !important;
  color: #fff !important;
  border: 1px solid #666 !important;
}

/* Fix inline code in docs */
.sbdocs-wrapper code,
.sbdocs-content code,
.sbdocs p code,
.sbdocs td code {
  background: rgba(0,0,0,0.05) !important;
  padding: 2px 4px !important;
  border-radius: 3px !important;
}

/* ========================================
   Dark Mode for Storybook Docs Page
   ======================================== */
[data-theme="dark"] .sbdocs-wrapper,
[data-theme="dark"] .sbdocs,
[data-theme="dark"] .sbdocs-content {
  background-color: #1a1a1a !important;
  /* Removed color: #ffffff - it was overriding component text colors */
}

/* Reset component preview area - DON'T override component text colors */
[data-theme="dark"] .docs-story *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6),
[data-theme="dark"] .sb-story *,
[data-theme="dark"] .sb-unstyled *:not(button) {
  color: initial;
}

/* But keep the preview container background dark */
[data-theme="dark"] .docs-story,
[data-theme="dark"] [class*="Preview"],
[data-theme="dark"] [class*="Canvas"] {
  background-color: #1a1a1a !important;
}

/* Dark mode text - only for docs content, NOT component preview */
[data-theme="dark"] .sbdocs > h1,
[data-theme="dark"] .sbdocs > h2,
[data-theme="dark"] .sbdocs > h3,
[data-theme="dark"] .sbdocs > h4,
[data-theme="dark"] .sbdocs > p,
[data-theme="dark"] .sbdocs-content > h1,
[data-theme="dark"] .sbdocs-content > h2,
[data-theme="dark"] .sbdocs-content > h3,
[data-theme="dark"] .sbdocs-content > h4,
[data-theme="dark"] .sbdocs-content > p,
[data-theme="dark"] .sbdocs-content > ul,
[data-theme="dark"] .sbdocs-content > ol,
[data-theme="dark"] .sbdocs-content > ul > li,
[data-theme="dark"] .sbdocs-content > ol > li,
[data-theme="dark"] .docblock-argstable td,
[data-theme="dark"] .docblock-argstable th {
  color: #ffffff !important;
}

/* Fix muted/secondary text in dark mode */
[data-theme="dark"] .sbdocs [class*="muted"],
[data-theme="dark"] .sbdocs [class*="secondary"],
[data-theme="dark"] .sbdocs-content [class*="muted"] {
  color: #cccccc !important;
}

/* Text selectors moved to more specific section above */

/* Fix MDX content specifically - but NOT component styles */
/* Removed .sb-unstyled color override - it was affecting component internals */
/* Don't override component internal colors */

[data-theme="dark"] .docblock-argstable,
[data-theme="dark"] .docblock-argstable-body,
[data-theme="dark"] .docblock-argstable-row {
  background-color: #2a2a2a !important;
}

[data-theme="dark"] .docblock-argstable th,
[data-theme="dark"] .docblock-argstable td {
  border-color: #444 !important;
  background-color: #2a2a2a !important;
}

[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
  background-color: #333 !important;
  color: #fff !important;
  border-color: #555 !important;
}

[data-theme="dark"] .docs-story {
  background-color: #1a1a1a !important;
}

[data-theme="dark"] .sb-unstyled {
  background-color: #1a1a1a !important;
}

/* Dark mode inline code */
[data-theme="dark"] .sbdocs-wrapper code,
[data-theme="dark"] .sbdocs-content code,
[data-theme="dark"] .sbdocs p code,
[data-theme="dark"] .sbdocs td code,
[data-theme="dark"] .sbdocs li code,
[data-theme="dark"] code:not([class*="language-"]):not([class*="token"]) {
  background: rgba(255,255,255,0.15) !important;
  color: #f8f8f2 !important;
  padding: 2px 6px !important;
  border-radius: 4px !important;
}

/* Copy button in dark mode - only target Storybook UI buttons, not component buttons */
[data-theme="dark"] [class*="Source"] button:not(.float-button):not([class*="float-button"]),
[data-theme="dark"] [class*="docblock"] button:not(.float-button):not([class*="float-button"]),
[data-theme="dark"] [class*="Toolbar"] button:not(.float-button):not([class*="float-button"]) {
  background-color: #333 !important;
  color: #ffffff !important;
  border: 1px solid #555 !important;
}

/* ========================================
   Dark Mode for Story Preview Container
   ======================================== */

/* Story preview container - the white box around component */
[data-theme="dark"] .sbdocs-preview,
[data-theme="dark"] [class*="Preview"],
[data-theme="dark"] [class*="preview"] {
  background-color: #2a2a2a !important;
  border-color: #444 !important;
}

/* The inner story area */
[data-theme="dark"] .sb-story,
[data-theme="dark"] [class*="Story"],
[data-theme="dark"] .docs-story > div {
  background-color: #1a1a1a !important;
}

/* Toolbar area with zoom icons and Show code button */
[data-theme="dark"] [class*="Toolbar"],
[data-theme="dark"] [class*="toolbar"] {
  background-color: #2a2a2a !important;
  border-color: #444 !important;
}

/* Show code button and other toolbar buttons - exclude component buttons */
[data-theme="dark"] [class*="Toolbar"] button:not(.float-button):not([class*="float-button"]),
[data-theme="dark"] [class*="toolbar"] button:not(.float-button):not([class*="float-button"]) {
  background-color: #333 !important;
  color: #fff !important;
  border-color: #555 !important;
}

[data-theme="dark"] [class*="Toolbar"] button:not(.float-button):hover,
[data-theme="dark"] [class*="toolbar"] button:not(.float-button):hover {
  background-color: #444 !important;
}

/* Zoom icons and other SVG icons in toolbar */
[data-theme="dark"] [class*="Toolbar"] svg,
[data-theme="dark"] [class*="toolbar"] svg {
  fill: #fff !important;
  color: #fff !important;
}

/* Story canvas wrapper */
[data-theme="dark"] [class*="Canvas"],
[data-theme="dark"] [class*="canvas"] {
  background-color: #1a1a1a !important;
  border-color: #444 !important;
}

/* The actual preview box border */
[data-theme="dark"] .sbdocs-preview > div,
[data-theme="dark"] [class*="PreviewContainer"] {
  background-color: #2a2a2a !important;
  border-color: #444 !important;
}

/* ========================================
   Dark Mode for Args Table Controls
   ======================================== */

/* Set boolean button - only in control areas */
[data-theme="dark"] [class*="BooleanControl"] button,
[data-theme="dark"] [class*="booleanControl"] button {
  background-color: #333 !important;
  color: #fff !important;
  border-color: #666 !important;
}

/* Boolean toggle - True/False text */
[data-theme="dark"] [class*="BooleanControl"] span,
[data-theme="dark"] [class*="booleanControl"] span {
  color: #fff !important;
}

/* All control buttons in args table - exclude component buttons */
[data-theme="dark"] .docblock-argstable button:not(.float-button):not([class*="float-button"]),
[data-theme="dark"] [class*="ArgTable"] button:not(.float-button):not([class*="float-button"]),
[data-theme="dark"] [class*="argsTable"] button:not(.float-button):not([class*="float-button"]) {
  background-color: #444 !important;
  color: #fff !important;
  border-color: #666 !important;
}

/* Radio/Checkbox controls */
[data-theme="dark"] [class*="Radio"],
[data-theme="dark"] [class*="Checkbox"] {
  color: #fff !important;
}

/* Select dropdowns in controls */
[data-theme="dark"] [class*="Select"] button,
[data-theme="dark"] select {
  background-color: #333 !important;
  color: #fff !important;
  border-color: #555 !important;
}

/* General button fix for any button with "Set" text */
[data-theme="dark"] button {
  color: #fff !important;
}

/* Boolean toggle switch - the actual toggle control */
[data-theme="dark"] [class*="Bool"] label,
[data-theme="dark"] [class*="bool"] label,
[data-theme="dark"] [class*="Toggle"] label,
[data-theme="dark"] [class*="toggle"] label {
  color: #fff !important;
}

/* Boolean toggle labels (False/True text) */
[data-theme="dark"] [class*="Bool"] span,
[data-theme="dark"] [class*="bool"] span,
[data-theme="dark"] label span,
[data-theme="dark"] [class*="Control"] span {
  color: #fff !important;
}

/* The toggle switch background */
[data-theme="dark"] [class*="Bool"] input + span,
[data-theme="dark"] [class*="bool"] input + span,
[data-theme="dark"] [role="switch"] {
  background-color: #555 !important;
}

/* Toggle switch when checked/active */
[data-theme="dark"] [class*="Bool"] input:checked + span,
[data-theme="dark"] [role="switch"][aria-checked="true"] {
  background-color: #5c6ac4 !important;
}

/* Segmented control for boolean (False | True buttons) */
[data-theme="dark"] [class*="Segment"] button,
[data-theme="dark"] [class*="segment"] button {
  background-color: #444 !important;
  color: #fff !important;
  border-color: #666 !important;
}

[data-theme="dark"] [class*="Segment"] button[aria-pressed="true"],
[data-theme="dark"] [class*="segment"] button[aria-pressed="true"] {
  background-color: #5c6ac4 !important;
  color: #fff !important;
}

/* ========================================
   Fix Boolean Control Layout (Both Themes)
   ======================================== */

/* Boolean control wrapper - ensure proper layout */
[class*="BooleanControl"],
[class*="booleanControl"] {
  display: inline-flex !important;
  gap: 0 !important;
}

/* Boolean control buttons - proper segmented style */
[class*="BooleanControl"] button,
[class*="booleanControl"] button {
  padding: 4px 12px !important;
  border: 1px solid #ccc !important;
  background: #f5f5f5 !important;
  color: #333 !important;
  font-size: 12px !important;
  cursor: pointer !important;
}

[class*="BooleanControl"] button:first-child,
[class*="booleanControl"] button:first-child {
  border-radius: 4px 0 0 4px !important;
  border-right: none !important;
}

[class*="BooleanControl"] button:last-child,
[class*="booleanControl"] button:last-child {
  border-radius: 0 4px 4px 0 !important;
}

/* Selected state */
[class*="BooleanControl"] button[aria-pressed="true"],
[class*="booleanControl"] button[aria-pressed="true"] {
  background: #5c6ac4 !important;
  color: #fff !important;
  border-color: #5c6ac4 !important;
}

/* Dark mode boolean control */
[data-theme="dark"] [class*="BooleanControl"] button,
[data-theme="dark"] [class*="booleanControl"] button {
  background: #444 !important;
  color: #fff !important;
  border-color: #666 !important;
}

[data-theme="dark"] [class*="BooleanControl"] button[aria-pressed="true"],
[data-theme="dark"] [class*="booleanControl"] button[aria-pressed="true"] {
  background: #5c6ac4 !important;
  color: #fff !important;
  border-color: #5c6ac4 !important;
}

/* ========================================
   Preserve FloatButton Component Styles
   ========================================
   These must come LAST to override any other button rules */

button.float-button,
.float-button {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 40px !important;
  height: 40px !important;
  padding: 0 !important;
  background-color: var(--bg-primary, #fff) !important;
  border: none !important;
  border-radius: 50% !important;
  box-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 9px 28px 8px rgba(0, 0, 0, 0.05) !important;
  cursor: pointer !important;
  position: fixed !important;
  color: var(--text-muted, #666) !important;
  transition: all 0.3s ease !important;
}

.float-button:hover {
  transform: scale(1.05) !important;
}

.float-button-square {
  border-radius: 8px !important;
}

.float-button-primary {
  background-color: var(--primary, #4F46E5) !important;
  color: #fff !important;
}

/* When style prop sets position: relative (for inline display in docs) */
.float-button[style*="relative"] {
  position: relative !important;
}

.float-button-icon {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.float-button-badge {
  position: absolute !important;
  top: -4px !important;
  right: -4px !important;
  min-width: 18px !important;
  height: 18px !important;
  padding: 0 4px !important;
  font-size: 12px !important;
  line-height: 18px !important;
  color: #fff !important;
  background-color: #f5222d !important;
  border-radius: 9px !important;
  text-align: center !important;
}

/* FloatButton Group styles */
.float-button-group {
  position: fixed !important;
  display: flex !important;
  flex-direction: column-reverse !important;
  align-items: center !important;
  gap: 12px !important;
}

.float-button-group-bottom-right {
  bottom: 24px !important;
  right: 24px !important;
}

.float-button-group-items {
  display: flex !important;
  flex-direction: column-reverse !important;
  gap: 12px !important;
  opacity: 0 !important;
  transform: translateY(20px) !important;
  pointer-events: none !important;
  transition: all 0.3s ease !important;
}

.float-button-group-open .float-button-group-items {
  opacity: 1 !important;
  transform: translateY(0) !important;
  pointer-events: auto !important;
}

.float-button-group-items .float-button {
  position: relative !important;
}

/* ========================================
   Dark Mode for MDX Documentation Pages
   ======================================== */

/* MDX page wrapper */
[data-theme="dark"] .sbdocs-wrapper,
[data-theme="dark"] .sbdocs {
  background-color: #1a1a1a !important;
}

/* All text in MDX docs */
[data-theme="dark"] .sbdocs h1,
[data-theme="dark"] .sbdocs h2,
[data-theme="dark"] .sbdocs h3,
[data-theme="dark"] .sbdocs h4,
[data-theme="dark"] .sbdocs h5,
[data-theme="dark"] .sbdocs h6 {
  color: #ffffff !important;
}

[data-theme="dark"] .sbdocs p,
[data-theme="dark"] .sbdocs li,
[data-theme="dark"] .sbdocs span,
[data-theme="dark"] .sbdocs strong,
[data-theme="dark"] .sbdocs em,
[data-theme="dark"] .sbdocs a {
  color: #e0e0e0 !important;
}

[data-theme="dark"] .sbdocs a {
  color: #6ea8fe !important;
}

[data-theme="dark"] .sbdocs a:hover {
  color: #9ec5fe !important;
}

/* Tables in dark mode */
[data-theme="dark"] .sbdocs table {
  border-color: #444 !important;
}

[data-theme="dark"] .sbdocs th,
[data-theme="dark"] .sbdocs td {
  color: #e0e0e0 !important;
  border-color: #444 !important;
  background-color: #2a2a2a !important;
}

[data-theme="dark"] .sbdocs th {
  background-color: #333 !important;
  color: #fff !important;
}

/* Code blocks in dark mode - pre and code */
[data-theme="dark"] .sbdocs pre {
  background-color: #2d2d2d !important;
  border: 1px solid #444 !important;
}

[data-theme="dark"] .sbdocs pre code {
  color: #e0e0e0 !important;
  background: transparent !important;
}

/* Inline code in dark mode */
[data-theme="dark"] .sbdocs :not(pre) > code {
  background-color: rgba(255, 255, 255, 0.1) !important;
  color: #ff7b72 !important;
  padding: 2px 6px !important;
  border-radius: 4px !important;
}

/* Lists */
[data-theme="dark"] .sbdocs ul,
[data-theme="dark"] .sbdocs ol {
  color: #e0e0e0 !important;
}

/* Blockquotes */
[data-theme="dark"] .sbdocs blockquote {
  border-left-color: #555 !important;
  color: #ccc !important;
  background-color: #2a2a2a !important;
}

/* HR */
[data-theme="dark"] .sbdocs hr {
  border-color: #444 !important;
}

/* Dark mode for FloatButton */
[data-theme="dark"] .float-button {
  background-color: var(--bg-primary, #2a2a2a) !important;
  color: var(--text-muted, #ccc) !important;
  box-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.2), 0 3px 6px -4px rgba(0, 0, 0, 0.24), 0 9px 28px 8px rgba(0, 0, 0, 0.15) !important;
}

[data-theme="dark"] .float-button-primary {
  background-color: var(--primary, #4F46E5) !important;
  color: #fff !important;
}

