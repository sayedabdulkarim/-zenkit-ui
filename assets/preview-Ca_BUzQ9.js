import{j as m}from"./jsx-runtime-DiklIkkE.js";import{r as h}from"./index-DRjF_FHU.js";import{e as T,f as g}from"./index-Dm06NFYK.js";import"./iframe-DWQTfndk.js";import"./index-DIvcuAjW.js";import"./index-D-Mha1DF.js";import"./index-DrFu-skq.js";const{addons:E}=__STORYBOOK_MODULE_PREVIEW_API__,{GLOBALS_UPDATED:p,SET_GLOBALS:y}=__STORYBOOK_MODULE_CORE_EVENTS__;let u="light";const v=e=>{var r,t,i,d,n,s,o,a;if(typeof window<"u"){const b=new URL(window.location.href).searchParams.get("globals");if(b){const f=b.match(/theme:(\w+)/);if(f)return u=f[1],f[1]}}if(u!=="light")return u;const l=[(i=(t=(r=e==null?void 0:e.store)==null?void 0:r.globals)==null?void 0:t.globals)==null?void 0:i.theme,(n=(d=e==null?void 0:e.store)==null?void 0:d.globals)==null?void 0:n.theme,(s=e==null?void 0:e.globals)==null?void 0:s.theme,(a=(o=e==null?void 0:e.storyContext)==null?void 0:o.globals)==null?void 0:a.theme];for(const c of l)if(c)return u=c,c;return"light"},w=(e,l)=>{const r=l.globals.theme||"light";return h.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),document.body.setAttribute("data-theme",r);const t="sb-border-fix";if(!document.getElementById(t)){const i=document.createElement("style");i.id=t,i.textContent=`
        /* Remove all borders/outlines from story containers */
        .docs-story, .docs-story > *, .docs-story > * > *,
        .sb-story-wrapper, [data-theme],
        div:has(> .docs-story), div:has(> .sb-story-wrapper),
        [class^="css-"]:has(.docs-story), [class*="css-"]:has(.sb-story-wrapper),
        /* Canvas and Preview wrappers */
        [class*="innerZoomElementWrapper"],
        [class*="Canvas"], [class*="Preview"],
        /* All focusable elements */
        [tabindex], [tabindex="0"],
        /* Override focus-visible globally in docs */
        .sbdocs :focus-visible, .sbdocs *:focus-visible,
        #storybook-docs :focus-visible, #storybook-docs *:focus-visible {
          border: none !important;
          outline: none !important;
          box-shadow: none !important;
        }
        /* Remove primary outline from focus-visible */
        :focus-visible {
          outline: none !important;
        }
      `,document.head.appendChild(i)}},[r]),m.jsx("div",{"data-theme":r,className:"sb-story-wrapper",style:{padding:"1rem",minHeight:"100px",backgroundColor:r==="dark"?"#1a1a1a":"#ffffff",color:r==="dark"?"#ffffff":"#1a1a1a",border:"none",outline:"none",boxShadow:"none"},children:m.jsx(e,{})})},D=({isDark:e})=>m.jsxs("footer",{style:{marginTop:"4rem",paddingTop:"2rem",borderTop:`1px solid ${e?"#333":"#e0e0e0"}`,textAlign:"center",color:e?"#999":"#666",fontSize:"14px"},children:[m.jsxs("div",{style:{marginBottom:"0.5rem"},children:["Made with ",m.jsx("span",{style:{color:"#e25555"},children:"â¤"})," by"]}),m.jsx("a",{href:"https://github.com/sayedabdulkarim",target:"_blank",rel:"noopener noreferrer",style:{color:e?"#6ea8fe":"#1890ff",textDecoration:"none",fontWeight:500},children:"Sayed Abdul Karim"})]}),C=({children:e,context:l,...r})=>{const[t,i]=h.useState(()=>v(l)),d=t==="dark";return console.log("[ThemedDocsContainer] Current theme:",t),console.log("[ThemedDocsContainer] Context:",l),console.log("[ThemedDocsContainer] isDark:",d),h.useEffect(()=>{console.log("[ThemedDocsContainer] Setting data-theme to:",t),document.documentElement.setAttribute("data-theme",t),document.body.setAttribute("data-theme",t),[".sbdocs-wrapper",".sbdocs",".sbdocs-content",".sb-show-main",".docs-story","#storybook-docs",'[class*="DocsContent"]'].forEach(o=>{document.querySelectorAll(o).forEach(c=>{c.setAttribute("data-theme",t)})}),document.querySelectorAll("iframe").forEach(o=>{try{o.contentDocument&&(o.contentDocument.documentElement.setAttribute("data-theme",t),o.contentDocument.body.setAttribute("data-theme",t))}catch{}})},[t]),h.useEffect(()=>{const n=E.getChannel(),s=o=>{var c;console.log("[ThemedDocsContainer] GLOBALS_UPDATED event:",o);const a=((c=o==null?void 0:o.globals)==null?void 0:c.theme)||(o==null?void 0:o.theme);console.log("[ThemedDocsContainer] Extracted theme from event:",a),a&&a!==t&&(console.log("[ThemedDocsContainer] Updating theme to:",a),u=a,i(a))};return n.on(p,s),n.on(y,s),n.on("updateGlobals",s),()=>{n.off(p,s),n.off(y,s),n.off("updateGlobals",s)}},[t]),h.useEffect(()=>{const s=setInterval(()=>{const o=v(l);o!==t&&i(o)},500);return()=>clearInterval(s)},[l,t]),m.jsx(T,{context:l,theme:d?g.dark:g.light,...r,children:m.jsxs("div",{"data-theme":t,style:{minHeight:"100%"},children:[e,m.jsx(D,{isDark:d})]})})},G={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},docs:{container:C,canvas:{sourceState:"shown"}},outline:{disable:!0},layout:"fullscreen"},globalTypes:{theme:{description:"Global theme for components",toolbar:{title:"Theme",icon:"circlehollow",items:[{value:"light",icon:"sun",title:"Light"},{value:"dark",icon:"moon",title:"Dark"}],dynamicTitle:!0}}},initialGlobals:{theme:"light",outline:!1},decorators:[w]};export{G as default};
